# token

- 过期时间：2天

## 使用思路

在前后端完全分离的情况下，`Vue`项目中实现`token`验证大致思路如下：

1. 第一次登录的时候，前端调后端的登陆接口，发送用户名和密码。
2. 后端收到请求，验证用户名和密码，验证成功，就给前端返回一个`token`。
3. 前端拿到`token`，将`token`存储到`localStorage`和`vuex`中，并跳转路由页面。
4. 前端每次跳转路由，就判断`localStroage`中有无 `token` ，没有就跳转到登录页面，有则跳转到对应路由页面。
5. 每次调后端接口，都要在请求头中加`token`。
6. 后端验证请求头中的token，如果token失效返回状态码为401，并设置`errorCode`为4011；如果token无效，返回状态码为401，并设置`errorCode`为4012；
7. 如果前端拿到状态码为401，就清除token信息并跳转到登录页面。
8. 调取登录接口成功，会在回调函数中将token存储到`localStorage`和`vuex`中。

